const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-RqL2oaT7.js","assets/react-vendor-naoOZ1NZ.js"])))=>i.map(i=>d[i]);
import{r as f,j as e,U as R,T as y,P as w,C as T,B as L,F as O,G as F,b as H,d as _,e as M,f as A,M as U,h as C,i as G,k as W,l as B,D as V,m as J,R as Y}from"./react-vendor-naoOZ1NZ.js";import{_ as q}from"./vendor-RqL2oaT7.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))p(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const b of c.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&p(b)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function p(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();const K=({data:t,onChange:n})=>{const[i,p]=f.useState("personal"),o=(s,l)=>{n({...t,personalInfo:{...t.personalInfo,[s]:l}})},c=(s,l)=>{n({...t,sectionTitles:{...t.sectionTitles,[s]:l}})},b=()=>{const s={id:Date.now().toString(),company:"新公司名称",position:"职位名称",startDate:"2023.01",endDate:"至今",current:!0,highlights:["负责核心业务模块的开发与维护。"]};n({...t,experience:[s,...t.experience]})},h=(s,l,d)=>{const m=t.experience.map(x=>x.id===s?{...x,[l]:d}:x);n({...t,experience:m})},a=(s,l,d)=>{const m=t.experience.find($=>$.id===s);if(!m)return;const x=[...m.highlights];x[l]=d,h(s,"highlights",x)},u=s=>{const l=t.experience.find(d=>d.id===s);l&&h(s,"highlights",[...l.highlights,""])},r=(s,l)=>{const d=t.experience.find(x=>x.id===s);if(!d)return;const m=d.highlights.filter((x,$)=>$!==l);h(s,"highlights",m)},v=(s,l)=>{const d=t.skills.map(m=>m.id===s?{...m,name:l}:m);n({...t,skills:d})},E=(s,l)=>{const d=l.split(/[,,，]/).map(x=>x.trim()).filter(x=>x),m=t.skills.map(x=>x.id===s?{...x,skills:d}:x);n({...t,skills:m})},j=()=>{const s={id:Date.now().toString(),name:"新项目名称",description:"项目简述...",technologies:["React","TypeScript"]};n({...t,projects:[s,...t.projects]})},g=(s,l,d)=>{const m=t.projects.map(x=>x.id===s?{...x,[l]:d}:x);n({...t,projects:m})},I=(s,l)=>{const d=l.split(/[,,，]/).map(m=>m.trim()).filter(m=>m);g(s,"technologies",d)},P=()=>{const s={id:Date.now().toString(),school:"学校名称",degree:"本科",field:"专业名称",startDate:"2015.09",endDate:"2019.06"};n({...t,education:[...t.education,s]})},k=(s,l,d)=>{const m=t.education.map(x=>x.id===s?{...x,[l]:d}:x);n({...t,education:m})},N=({id:s,title:l,icon:d})=>e.jsxs("button",{onClick:()=>p(i===s?"":s),className:`w-full flex items-center justify-between p-4 bg-white border-b ${i===s?"bg-blue-50 border-blue-200":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 font-medium text-gray-700",children:[e.jsx(d,{size:18}),l]}),i===s?e.jsx(_,{size:16}):e.jsx(M,{size:16})]});return e.jsxs("div",{className:"h-full overflow-y-auto bg-gray-100 border-r border-gray-200 custom-scrollbar",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx(N,{id:"personal",title:"个人信息 (Personal Info)",icon:R}),i==="personal"&&e.jsxs("div",{className:"p-4 space-y-4 bg-white",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase",children:"姓名"}),e.jsx("input",{type:"text",value:t.personalInfo.fullName,onChange:s=>o("fullName",s.target.value),className:"w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase",children:"求职意向/职位"}),e.jsx("input",{type:"text",value:t.personalInfo.title,onChange:s=>o("title",s.target.value),className:"w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase",children:"出生年月"}),e.jsx("input",{type:"text",value:t.personalInfo.birthDate,onChange:s=>o("birthDate",s.target.value),placeholder:"1995.08",className:"w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase",children:"工作年限"}),e.jsx("input",{type:"text",value:t.personalInfo.yearsOfExperience,onChange:s=>o("yearsOfExperience",s.target.value),placeholder:"5年",className:"w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase",children:"联系电话"}),e.jsx("input",{type:"text",value:t.personalInfo.phone,onChange:s=>o("phone",s.target.value),className:"w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase",children:"电子邮箱"}),e.jsx("input",{type:"email",value:t.personalInfo.email,onChange:s=>o("email",s.target.value),className:"w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase",children:"学历"}),e.jsx("input",{type:"text",value:t.personalInfo.degree,onChange:s=>o("degree",s.target.value),placeholder:"本科",className:"w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase",children:"所在城市"}),e.jsx("input",{type:"text",value:t.personalInfo.location,onChange:s=>o("location",s.target.value),className:"w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase",children:"GitHub (可选)"}),e.jsx("input",{type:"text",value:t.personalInfo.github,onChange:s=>o("github",s.target.value),placeholder:"github.com/username",className:"w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-2",children:"其他链接"}),t.personalInfo.socials.map((s,l)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{className:"w-1/3 text-sm p-2 border rounded",value:s.platform,onChange:d=>{const m=[...t.personalInfo.socials];m[l].platform=d.target.value,n({...t,personalInfo:{...t.personalInfo,socials:m}})},placeholder:"名称 (博客等)"}),e.jsx("input",{className:"flex-1 text-sm p-2 border rounded",value:s.url,onChange:d=>{const m=[...t.personalInfo.socials];m[l].url=d.target.value,n({...t,personalInfo:{...t.personalInfo,socials:m}})},placeholder:"URL"}),e.jsx("button",{onClick:()=>{const d=t.personalInfo.socials.filter((m,x)=>x!==l);n({...t,personalInfo:{...t.personalInfo,socials:d}})},className:"text-gray-400 hover:text-red-500 p-2",children:e.jsx(y,{size:16})})]},l)),e.jsxs("button",{onClick:()=>n({...t,personalInfo:{...t.personalInfo,socials:[...t.personalInfo.socials,{platform:"",url:""}]}}),className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(w,{size:12})," 添加链接"]})]}),e.jsx("hr",{className:"my-4 border-gray-100"}),e.jsx("div",{className:"flex justify-between items-center mb-2",children:e.jsx("input",{value:t.sectionTitles.summary,onChange:s=>c("summary",s.target.value),className:"font-bold text-gray-700 border-b border-dashed border-gray-300 focus:border-blue-500 outline-none text-sm w-32"})}),e.jsx("div",{children:e.jsx("textarea",{rows:4,value:t.personalInfo.summary,onChange:s=>o("summary",s.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none text-sm"})})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(N,{id:"skills",title:"技能 (Skills)",icon:T}),i==="skills"&&e.jsxs("div",{className:"p-4 bg-white space-y-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-xs text-gray-400",children:"板块标题"}),e.jsx("input",{value:t.sectionTitles.skills,onChange:s=>c("skills",s.target.value),className:"block w-full font-bold text-gray-700 border-b border-gray-200 focus:border-blue-500 outline-none py-1"})]}),t.skills.map(s=>e.jsxs("div",{className:"border p-3 rounded bg-gray-50 relative group",children:[e.jsx("button",{onClick:()=>n({...t,skills:t.skills.filter(l=>l.id!==s.id)}),className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(y,{size:14})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"分类名称"}),e.jsx("input",{className:"w-full mt-1 p-1 border-b border-gray-300 focus:border-blue-500 outline-none bg-transparent",value:s.name,onChange:l=>v(s.id,l.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"技能列表 (逗号分隔)"}),e.jsx("textarea",{className:"w-full mt-1 text-sm p-2 border rounded",rows:2,value:s.skills.join(", "),onChange:l=>E(s.id,l.target.value),placeholder:"React, TypeScript, Tailwind..."})]})]},s.id)),e.jsxs("button",{onClick:()=>n({...t,skills:[...t.skills,{id:Date.now().toString(),name:"新技能分类",skills:[]}]}),className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(w,{size:14})," 添加技能分类"]})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(N,{id:"experience",title:"工作经历 (Experience)",icon:L}),i==="experience"&&e.jsxs("div",{className:"p-4 bg-white space-y-6",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"text-xs text-gray-400",children:"板块标题"}),e.jsx("input",{value:t.sectionTitles.experience,onChange:s=>c("experience",s.target.value),className:"block w-full font-bold text-gray-700 border-b border-gray-200 focus:border-blue-500 outline-none py-1"})]}),e.jsxs("button",{onClick:b,className:"w-full py-2 flex items-center justify-center gap-2 border-2 border-dashed border-gray-300 rounded text-gray-500 hover:border-blue-500 hover:text-blue-500 transition-colors",children:[e.jsx(w,{size:16})," 添加工作经历"]}),t.experience.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 relative group hover:border-blue-300 transition-colors",children:[e.jsx("button",{onClick:()=>n({...t,experience:t.experience.filter(l=>l.id!==s.id)}),className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(y,{size:16})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"公司名称"}),e.jsx("input",{className:"w-full font-medium text-gray-800 border-b border-gray-200 focus:border-blue-500 outline-none",value:s.company,onChange:l=>h(s.id,"company",l.target.value)})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"职位"}),e.jsx("input",{className:"w-full font-medium text-gray-800 border-b border-gray-200 focus:border-blue-500 outline-none",value:s.position,onChange:l=>h(s.id,"position",l.target.value)})]}),e.jsxs("div",{className:"flex gap-2 col-span-2",children:[e.jsx("input",{type:"text",className:"w-full text-sm border p-1 rounded",value:s.startDate,onChange:l=>h(s.id,"startDate",l.target.value),placeholder:"开始时间"}),e.jsx("input",{type:"text",className:"w-full text-sm border p-1 rounded",value:s.endDate,disabled:s.current,onChange:l=>h(s.id,"endDate",l.target.value),placeholder:"结束时间"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("input",{type:"checkbox",checked:s.current,onChange:l=>h(s.id,"current",l.target.checked),id:`curr-${s.id}`}),e.jsx("label",{htmlFor:`curr-${s.id}`,className:"text-sm text-gray-600",children:"至今"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"工作内容与成就"}),s.highlights.map((l,d)=>e.jsxs("div",{className:"flex gap-2 items-start",children:[e.jsx("div",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-gray-400 flex-shrink-0"}),e.jsx("textarea",{className:"flex-1 text-sm p-2 border rounded focus:ring-1 focus:ring-blue-500 outline-none resize-none",rows:2,value:l,onChange:m=>a(s.id,d,m.target.value)}),e.jsx("div",{className:"flex flex-col gap-1",children:e.jsx("button",{onClick:()=>r(s.id,d),className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded",children:e.jsx(y,{size:14})})})]},d)),e.jsxs("button",{onClick:()=>u(s.id),className:"text-xs text-blue-600 hover:underline flex items-center gap-1 mt-2",children:[e.jsx(w,{size:12})," 添加经历详情"]})]})]},s.id))]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(N,{id:"projects",title:"项目经历 (Projects)",icon:O}),i==="projects"&&e.jsxs("div",{className:"p-4 bg-white space-y-6",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"text-xs text-gray-400",children:"板块标题"}),e.jsx("input",{value:t.sectionTitles.projects,onChange:s=>c("projects",s.target.value),className:"block w-full font-bold text-gray-700 border-b border-gray-200 focus:border-blue-500 outline-none py-1"})]}),e.jsxs("button",{onClick:j,className:"w-full py-2 flex items-center justify-center gap-2 border-2 border-dashed border-gray-300 rounded text-gray-500 hover:border-blue-500 hover:text-blue-500 transition-colors",children:[e.jsx(w,{size:16})," 添加项目"]}),t.projects.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 relative group hover:border-blue-300",children:[e.jsx("button",{onClick:()=>n({...t,projects:t.projects.filter(l=>l.id!==s.id)}),className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(y,{size:16})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"项目名称"}),e.jsx("input",{className:"w-full font-medium border-b border-gray-200 focus:border-blue-500 outline-none",value:s.name,onChange:l=>g(s.id,"name",l.target.value)})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"所属公司 (可选)"}),e.jsx("input",{className:"w-full text-sm border-b border-gray-200 focus:border-blue-500 outline-none",value:s.company||"",onChange:l=>g(s.id,"company",l.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"技术栈"}),e.jsx("input",{className:"w-full text-sm border-b border-gray-200 focus:border-blue-500 outline-none",value:s.technologies.join(", "),onChange:l=>I(s.id,l.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"团队规模 (可选)"}),e.jsx("input",{className:"w-full text-sm border p-1 rounded",value:s.teamSize||"",onChange:l=>g(s.id,"teamSize",l.target.value),placeholder:"例如：5人"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"在线链接/源码 (可选)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{className:"w-1/2 text-sm border p-1 rounded",value:s.link||"",onChange:l=>g(s.id,"link",l.target.value),placeholder:"演示 URL"}),e.jsx("input",{className:"w-1/2 text-sm border p-1 rounded",value:s.github||"",onChange:l=>g(s.id,"github",l.target.value),placeholder:"GitHub URL"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"项目简述"}),e.jsx("textarea",{className:"w-full text-sm p-2 border rounded resize-none mt-1",rows:2,value:s.description,onChange:l=>g(s.id,"description",l.target.value)})]}),e.jsxs("div",{className:"space-y-2 border-t pt-2 mt-2",children:[e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"详细信息 (可选)"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"负责内容"}),e.jsx("textarea",{className:"w-full text-sm p-2 border rounded resize-none",rows:2,value:s.content||"",onChange:l=>g(s.id,"content",l.target.value),placeholder:"描述你在项目中的具体职责..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"项目难点"}),e.jsx("textarea",{className:"w-full text-sm p-2 border rounded resize-none",rows:2,value:s.difficulties||"",onChange:l=>g(s.id,"difficulties",l.target.value),placeholder:"遇到的技术挑战及解决方案..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"工作成果"}),e.jsx("textarea",{className:"w-full text-sm p-2 border rounded resize-none",rows:2,value:s.achievements||"",onChange:l=>g(s.id,"achievements",l.target.value),placeholder:"量化的成果，如性能提升、用户增长..."})]})]})]})]},s.id))]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(N,{id:"education",title:"教育背景 (Education)",icon:F}),i==="education"&&e.jsxs("div",{className:"p-4 bg-white space-y-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"text-xs text-gray-400",children:"板块标题"}),e.jsx("input",{value:t.sectionTitles.education,onChange:s=>c("education",s.target.value),className:"block w-full font-bold text-gray-700 border-b border-gray-200 focus:border-blue-500 outline-none py-1"})]}),t.education.map(s=>e.jsxs("div",{className:"border p-3 rounded bg-gray-50 relative group",children:[e.jsx("button",{onClick:()=>n({...t,education:t.education.filter(l=>l.id!==s.id)}),className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(y,{size:14})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{className:"border-b border-transparent focus:border-blue-500 outline-none bg-transparent font-medium",value:s.school,onChange:l=>k(s.id,"school",l.target.value),placeholder:"学校"}),e.jsx("input",{className:"border-b border-transparent focus:border-blue-500 outline-none bg-transparent",value:s.degree,onChange:l=>k(s.id,"degree",l.target.value),placeholder:"学历/学位"}),e.jsx("input",{className:"border-b border-transparent focus:border-blue-500 outline-none bg-transparent",value:s.field,onChange:l=>k(s.id,"field",l.target.value),placeholder:"专业"}),e.jsxs("div",{className:"flex gap-1 text-sm text-gray-500",children:[e.jsx("input",{value:s.startDate,onChange:l=>k(s.id,"startDate",l.target.value),className:"w-16 bg-transparent outline-none",placeholder:"开始"}),"-",e.jsx("input",{value:s.endDate,onChange:l=>k(s.id,"endDate",l.target.value),className:"w-16 bg-transparent outline-none",placeholder:"结束"})]})]})]},s.id)),e.jsxs("button",{onClick:P,className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(w,{size:14})," 添加教育经历"]})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(N,{id:"selfEvaluation",title:"个人评价 (Self Evaluation)",icon:H}),i==="selfEvaluation"&&e.jsxs("div",{className:"p-4 bg-white space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center mb-2",children:e.jsx("input",{value:t.sectionTitles.selfEvaluation,onChange:s=>c("selfEvaluation",s.target.value),className:"font-bold text-gray-700 border-b border-dashed border-gray-300 focus:border-blue-500 outline-none text-sm w-32"})}),e.jsx("div",{children:e.jsx("textarea",{rows:4,value:t.selfEvaluation||"",onChange:s=>n({...t,selfEvaluation:s.target.value}),placeholder:"填写个人评价（可选）...",className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none text-sm"})})]})]})]})},Q=({data:t,scale:n=1})=>{const{personalInfo:i,sectionTitles:p}=t,o=f.useRef(null),[c,b]=f.useState(1);f.useEffect(()=>{const a=new ResizeObserver(u=>{for(const r of u){const v=r.contentRect.height,j=r.contentRect.width/210*297;if(j>0){const g=Math.ceil((v-1)/j);b(Math.max(g,1))}}});return o.current&&a.observe(o.current),()=>a.disconnect()},[t]);const h=({children:a})=>e.jsx("h2",{className:"text-lg font-bold border-b-2 border-slate-800 mb-3 pb-1 text-slate-900 mt-5 first:mt-0",children:a});return e.jsxs("div",{className:"origin-top relative",style:{width:"210mm",transform:`scale(${n})`,marginBottom:`${(n-1)*297*c}mm`},children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{height:`${c*297}mm`,backgroundImage:"linear-gradient(to bottom, transparent 296.5mm, #94a3b8 296.5mm, #94a3b8 297mm)",backgroundSize:"100% 297mm"}}),e.jsx("div",{id:"resume-preview",className:"bg-white shadow-2xl mx-auto relative z-10",style:{minHeight:`calc(${c*297}mm - 1px)`,fontFamily:'"Microsoft YaHei", "Inter", sans-serif'},children:e.jsxs("div",{ref:o,className:"p-10 h-full text-slate-800 leading-relaxed",children:[e.jsxs("header",{className:"flex justify-between items-start border-b border-slate-300 pb-6 mb-2",children:[e.jsxs("div",{className:"flex-1 pr-8",children:[e.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-slate-900 mb-2",children:i.fullName}),e.jsx("p",{className:"text-xl text-blue-800 font-medium mb-3",children:i.title}),e.jsxs("div",{className:"flex gap-4 text-sm text-slate-600 flex-wrap",children:[i.yearsOfExperience&&e.jsxs("span",{children:[i.yearsOfExperience,"经验"]}),i.degree&&e.jsx("span",{className:"border-l border-slate-300 pl-4",children:i.degree}),i.birthDate&&e.jsx("span",{className:"border-l border-slate-300 pl-4",children:i.birthDate}),i.location&&e.jsx("span",{className:"border-l border-slate-300 pl-4",children:i.location})]})]}),e.jsxs("div",{className:"text-sm text-slate-700 min-w-[200px] max-w-[280px] flex flex-col gap-2",children:[i.phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-5 flex justify-center text-slate-500",children:e.jsx(A,{size:16})}),e.jsx("span",{children:i.phone})]}),i.email&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-5 flex justify-center text-slate-500",children:e.jsx(U,{size:16})}),e.jsx("span",{className:"break-all",children:i.email})]}),i.github&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-5 flex justify-center text-slate-500",children:e.jsx(C,{size:16})}),e.jsx("a",{href:`https://${i.github.replace(/^https?:\/\//,"")}`,target:"_blank",rel:"noreferrer",className:"hover:text-blue-600 hover:underline break-all",children:i.github.replace(/^https?:\/\//,"")})]}),i.socials.map((a,u)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-5 flex justify-center text-slate-500",children:e.jsx(G,{size:16})}),e.jsx("a",{href:a.url,target:"_blank",rel:"noreferrer",className:"hover:text-blue-600 hover:underline break-all",children:a.url.replace(/^https?:\/\//,"")})]},u))]})]}),e.jsxs("div",{className:"space-y-2",children:[i.summary&&e.jsxs("section",{className:"break-inside-avoid",children:[e.jsx(h,{children:p.summary}),e.jsx("p",{className:"text-sm text-slate-800 leading-7 text-justify",children:i.summary})]}),t.skills.length>0&&e.jsxs("section",{className:"break-inside-avoid",children:[e.jsx(h,{children:p.skills}),e.jsx("div",{className:"space-y-2.5",children:t.skills.map(a=>e.jsxs("div",{className:"flex items-start text-sm",children:[e.jsx("div",{className:"w-24 font-bold text-slate-900 shrink-0 pt-0.5",children:a.name}),e.jsx("div",{className:"flex-1 text-slate-700 leading-relaxed border-l border-slate-200 pl-3",children:a.skills.join("、")})]},a.id))})]}),t.experience.length>0&&e.jsxs("section",{children:[e.jsx(h,{children:p.experience}),e.jsx("div",{className:"space-y-6",children:t.experience.map(a=>e.jsxs("div",{className:"break-inside-avoid",children:[e.jsxs("div",{className:"flex justify-between items-end mb-1",children:[e.jsx("h3",{className:"font-bold text-base text-slate-900",children:a.company}),e.jsxs("span",{className:"text-sm text-slate-500 font-mono",children:[a.startDate," – ",a.current?"至今":a.endDate]})]}),e.jsx("div",{className:"text-sm font-bold text-slate-700 mb-2",children:a.position}),e.jsx("ul",{className:"list-disc list-outside ml-4 space-y-1",children:a.highlights.map((u,r)=>e.jsx("li",{className:"text-sm text-slate-700 pl-1 leading-relaxed",children:u},r))})]},a.id))})]}),t.projects.length>0&&e.jsxs("section",{children:[e.jsx(h,{children:p.projects}),e.jsx("div",{className:"space-y-6",children:t.projects.map(a=>e.jsxs("div",{className:"relative break-inside-avoid",children:[e.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsx("h3",{className:"font-bold text-base text-slate-900",children:a.name}),a.company&&e.jsxs("span",{className:"text-sm text-slate-500",children:["@",a.company]})]}),e.jsx("div",{className:"text-xs text-slate-500 font-mono",children:a.link&&e.jsx("span",{className:"mr-3",children:a.link})})]}),e.jsx("div",{className:"text-sm text-slate-800 mb-2 leading-relaxed",children:a.description}),e.jsxs("div",{className:"bg-slate-50 p-3 rounded-sm border border-slate-100 text-sm space-y-2",children:[a.technologies.length>0&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"font-bold text-slate-700 shrink-0",children:"技术栈:"}),e.jsx("span",{className:"text-slate-600",children:a.technologies.join(", ")})]}),a.teamSize&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"font-bold text-slate-700 shrink-0",children:"团队规模:"}),e.jsx("span",{className:"text-slate-600",children:a.teamSize})]}),a.content&&e.jsxs("div",{className:"flex gap-2 items-start",children:[e.jsx("span",{className:"font-bold text-slate-700 shrink-0",children:"负责内容:"}),e.jsx("span",{className:"text-slate-600 leading-relaxed",children:a.content})]}),a.difficulties&&e.jsxs("div",{className:"flex gap-2 items-start",children:[e.jsx("span",{className:"font-bold text-slate-700 shrink-0",children:"项目难点:"}),e.jsx("span",{className:"text-slate-600 leading-relaxed",children:a.difficulties})]}),a.achievements&&e.jsxs("div",{className:"flex gap-2 items-start",children:[e.jsx("span",{className:"font-bold text-slate-700 shrink-0",children:"工作成果:"}),e.jsx("span",{className:"text-slate-600 leading-relaxed",children:a.achievements})]})]})]},a.id))})]}),t.education.length>0&&e.jsxs("section",{className:"break-inside-avoid",children:[e.jsx(h,{children:p.education}),e.jsx("div",{className:"space-y-3",children:t.education.map(a=>e.jsxs("div",{className:"flex justify-between items-baseline border-b border-dashed border-slate-200 pb-2 last:border-0 break-inside-avoid",children:[e.jsxs("div",{className:"flex gap-6 items-baseline",children:[e.jsx("h3",{className:"font-bold text-sm text-slate-900",children:a.school}),e.jsx("span",{className:"text-sm text-slate-700",children:a.field}),e.jsx("span",{className:"text-sm text-slate-700 bg-slate-100 px-2 rounded-sm text-xs py-0.5",children:a.degree})]}),e.jsxs("span",{className:"text-sm text-slate-500 font-mono",children:[a.startDate," - ",a.endDate]})]},a.id))})]}),t.selfEvaluation&&e.jsxs("section",{className:"break-inside-avoid",children:[e.jsx(h,{children:p.selfEvaluation}),e.jsx("p",{className:"text-sm text-slate-800 leading-7 text-justify whitespace-pre-wrap",children:t.selfEvaluation})]})]})]})})]})},S=t=>{const{personalInfo:n,skills:i,experience:p,projects:o,education:c,sectionTitles:b,selfEvaluation:h}=t;let a=`# ${n.fullName}

`;a+=`**${n.title}**

`;const u=[n.phone,n.email,n.location,n.birthDate?`出生年月: ${n.birthDate}`:"",n.yearsOfExperience?`经验: ${n.yearsOfExperience}`:"",n.degree?`学历: ${n.degree}`:"",n.github?`GitHub: ${n.github}`:""].filter(Boolean);return a+=u.join(" | ")+`

`,n.socials.forEach(r=>{a+=`[${r.platform}](${r.url}) `}),n.socials.length>0&&(a+=`

`),a+=`## ${b.summary}

${n.summary}

`,a+=`## ${b.skills}

`,i.forEach(r=>{a+=`- **${r.name}**: ${r.skills.join(", ")}
`}),a+=`
`,a+=`## ${b.experience}

`,p.forEach(r=>{a+=`### ${r.company} | ${r.position}
`,a+=`*${r.startDate} - ${r.current?"至今":r.endDate}*

`,r.highlights.forEach(v=>a+=`- ${v}
`),a+=`
`}),a+=`## ${b.projects}

`,o.forEach(r=>{a+=`### ${r.name} ${r.company?`@ ${r.company}`:""}
`,a+=`*技术栈: ${r.technologies.join(", ")}*

`,a+=`${r.description}

`,r.teamSize&&(a+=`- **团队规模**: ${r.teamSize}
`),r.content&&(a+=`- **负责内容**: ${r.content}
`),r.difficulties&&(a+=`- **项目难点**: ${r.difficulties}
`),r.achievements&&(a+=`- **工作成果**: ${r.achievements}
`),a+=`
`,r.link&&(a+=`在线演示: ${r.link}
`),r.github&&(a+=`项目源码: ${r.github}
`),a+=`
`}),a+=`## ${b.education}

`,c.forEach(r=>{a+=`### ${r.school}
`,a+=`${r.degree} | ${r.field} | ${r.startDate} - ${r.endDate}

`}),h&&(a+=`## ${b.selfEvaluation}

${h}

`),a},D=(t,n,i="text/plain")=>{const p=n instanceof Blob?n:new Blob([n],{type:i}),o=URL.createObjectURL(p),c=document.createElement("a");c.href=o,c.download=t,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(o)},X=t=>{const i=S(t).replace(/^# (.*$)/gim,'<h1 style="font-size: 24pt; color: #333; text-align: center; margin-bottom: 10px;">$1</h1>').replace(/^## (.*$)/gim,'<h2 style="font-size: 14pt; color: #2563eb; margin-top: 20px; border-bottom: 1px solid #ccc; padding-bottom: 4px;">$1</h2>').replace(/^### (.*$)/gim,'<h3 style="font-size: 11pt; font-weight: bold; margin-top: 15px; color: #333; background-color: #f8f9fa; padding: 4px;">$1</h3>').replace(/\*\*(.*)\*\*/gim,"<b>$1</b>").replace(/\*(.*)\*/gim,"<i>$1</i>").replace(/^- (.*$)/gim,'<li style="margin-bottom: 4px; margin-left: 20px;">$1</li>').replace(/\n/gim,"<br />");return`
        <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
        <head>
            <meta charset='utf-8'>
            <title>${t.personalInfo.fullName} 简历</title>
            <!-- Define A4 Page Setup for Word -->
            <style>
                @page {
                    size: 21.0cm 29.7cm;
                    margin: 2.0cm 2.0cm 2.0cm 2.0cm;
                    mso-page-orientation: portrait;
                }
                body {
                    font-family: 'Microsoft YaHei', Arial, sans-serif;
                    line-height: 1.6;
                    color: #333;
                    background-color: #fff;
                }
                /* Ensure tables or containers don't overflow */
                div, table {
                    max-width: 100%;
                }
            </style>
        </head>
        <body>
            ${i}
        </body>
        </html>
    `},Z={sectionTitles:{summary:"个人总结",skills:"专业技能",experience:"工作经历",projects:"项目经历",education:"教育背景",selfEvaluation:"个人评价"},personalInfo:{fullName:"张伟",title:"高级前端工程师",email:"zhang.wei@example.com",phone:"138 0013 8000",location:"北京",birthDate:"1995.08",yearsOfExperience:"5年",degree:"本科",github:"github.com/zhangwei-dev",summary:"拥有 5 年以上前端开发经验，精通 React 和 Vue 生态系统。擅长构建高性能、可扩展的 Web 应用程序。在微前端架构落地和组件库建设方面有丰富经验。热衷于新技术探索和工程化实践，具备良好的团队领导能力。",socials:[{platform:"技术博客",url:"https://juejin.cn/user/zhangwei"}]},skills:[{id:"1",name:"核心技术",skills:["HTML5","CSS3","JavaScript (ES6+)","TypeScript"]},{id:"2",name:"前端框架",skills:["React","Vue.js","Next.js","Tailwind CSS","Element Plus"]},{id:"3",name:"工程化 & 工具",skills:["Webpack","Vite","Git","Docker","CI/CD","Jest"]}],experience:[{id:"1",company:"光速科技技术有限公司",position:"高级前端工程师",startDate:"2021-03",endDate:"至今",current:!0,highlights:["主导公司核心 SaaS 平台的重构工作，利用 Webpack 模块联邦技术落地微前端架构，将大型单体应用拆分为 5 个子应用，提升了 40% 的构建速度。","设计并开发企业级通用 UI 组件库，覆盖 50+ 常用组件，被内部 10+ 个项目采用，显著提升了研发效率和 UI 一致性。","负责前端性能优化专项，通过代码分割、资源预加载和长列表优化，将核心页面 LCP 从 2.5s 优化至 1.2s。"]},{id:"2",company:"创意互动网络",position:"前端开发工程师",startDate:"2018-06",endDate:"2021-02",current:!1,highlights:["负责多个高流量营销活动页面的开发，使用 Vue.js 和 GSAP 实现复杂的动画交互效果，兼容主流移动端设备。","配合后端工程师完成 API 接口联调，并使用 TypeScript 重构核心业务逻辑，减少了 30% 的线上运行时错误。","参与前端规范制定和代码走查，指导初级工程师解决技术难题。"]}],projects:[{id:"1",name:"电商数据可视化大屏",company:"光速科技",description:"为电商大促活动开发的实时数据监控大屏，支持千万级数据量的实时渲染和交互。",technologies:["Vue 3","ECharts","WebSocket","Node.js"],link:"https://demo-datav.com",github:"https://github.com/zhangwei/datav",teamSize:"5人",content:"负责大屏核心渲染引擎的开发，设计组件通信机制。",difficulties:"在大数据量下 ECharts 渲染卡顿，内存泄漏问题严重。",achievements:"通过 Canvas 层级优化和数据采样算法，将渲染帧率稳定在 60fps，内存占用降低 40%。"}],education:[{id:"1",school:"北京理工大学",degree:"学士",field:"计算机科学与技术",startDate:"2014.09",endDate:"2018.06"}],selfEvaluation:"性格开朗，善于沟通，具有良好的团队合作精神。热爱技术，对新事物保持好奇心，有较强的自驱力和学习能力。"},ee=()=>{const[t,n]=f.useState(()=>{const u=localStorage.getItem("resumeData");return u?JSON.parse(u):Z}),[i,p]=f.useState(.8),[o,c]=f.useState(!1);f.useEffect(()=>{localStorage.setItem("resumeData",JSON.stringify(t))},[t]),f.useEffect(()=>{const u=()=>{const r=window.innerWidth;r>1200?p(.85):r>1e3?p(.7):p(.5)};return window.addEventListener("resize",u),u(),()=>window.removeEventListener("resize",u)},[]);const b=async()=>{const u=document.getElementById("resume-preview");if(u){c(!0);try{const r=await q(()=>import("./vendor-RqL2oaT7.js").then(j=>j.h),__vite__mapDeps([0,1])),v=r.default||r,E={margin:0,filename:`${t.personalInfo.fullName}_简历.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,scrollY:0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"},pagebreak:{mode:["avoid-all","css","legacy"]}};await v().set(E).from(u).save()}catch(r){console.error("PDF Export failed:",r),alert("PDF导出失败，请重试")}finally{c(!1)}}},h=()=>{const u=S(t);D(`${t.personalInfo.fullName}_简历.md`,u,"text/markdown")},a=()=>{const u=X(t);if(window.htmlDocx){const r=window.htmlDocx.asBlob(u);D(`${t.personalInfo.fullName}_简历.docx`,r,"application/vnd.openxmlformats-officedocument.wordprocessingml.document")}else console.warn("html-docx-js not loaded, falling back to .doc"),D(`${t.personalInfo.fullName}_简历.doc`,u,"application/msword")};return e.jsxs("div",{className:"flex h-screen overflow-hidden font-sans",children:[e.jsxs("div",{className:"w-1/3 min-w-[420px] bg-white border-r border-gray-200 flex flex-col z-10 shadow-lg",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"bg-blue-600 text-white p-1 rounded font-bold",children:"DR"}),e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"DevResume.ai"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"前端工程师专用简历生成器"})]}),e.jsx(K,{data:t,onChange:n})]}),e.jsxs("div",{className:"flex-1 bg-gray-100 relative flex flex-col",children:[e.jsxs("div",{className:"absolute top-4 right-4 z-20 flex gap-2 no-print",children:[e.jsxs("button",{onClick:h,className:"bg-gray-800 text-white px-4 py-2 rounded shadow hover:bg-gray-700 flex items-center gap-2 text-sm",title:"导出 Markdown",children:[e.jsx(W,{size:16})," Markdown"]}),e.jsxs("button",{onClick:a,className:"bg-blue-700 text-white px-4 py-2 rounded shadow hover:bg-blue-600 flex items-center gap-2 text-sm",title:"导出 Word",children:[e.jsx(B,{size:16})," Word (.docx)"]}),e.jsxs("button",{onClick:b,disabled:o,className:`${o?"bg-red-400 cursor-wait":"bg-red-600 hover:bg-red-500"} text-white px-4 py-2 rounded shadow flex items-center gap-2 text-sm transition-colors`,title:"导出 PDF",children:[e.jsx(V,{size:16})," ",o?"生成中...":"PDF"]}),e.jsxs("a",{href:"https://github.com/louhaojie99/resume-generator",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-900 text-white px-4 py-2 rounded shadow hover:bg-black flex items-center gap-2 text-sm transition-colors",title:"GitHub 源码",children:[e.jsx(C,{size:16})," GitHub"]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-8 custom-scrollbar flex justify-center items-start pt-16",children:e.jsx(Q,{data:t,scale:i})})]})]})},z=document.getElementById("root");if(!z)throw new Error("Could not find root element to mount to");const se=J.createRoot(z);se.render(e.jsx(Y.StrictMode,{children:e.jsx(ee,{})}));
